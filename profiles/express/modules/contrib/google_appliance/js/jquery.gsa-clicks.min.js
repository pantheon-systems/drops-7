/*! Google Search Appliance Click Tracking - v1.0.0 - 2014-07-08
* https://github.com/asmallwebfirm/gsa-clicks
* Copyright (c) 2014 Eric Peterson; Licensed GPL-2.0 */
!function(a){var b={},c=!1;a.fn.gsaClicks=function(d){return b=a.extend(b,a.fn.gsaClicks.options,d),a.each(b.clickTypes,function(c,d){var e;d&&(e=a(d),a.fn.gsaClicks.write.call(e,"gsa-clicktype",c),e.length>1&&e.each(function(b){a.fn.gsaClicks.write.call(a(this),"gsa-rank",b+1)}),"function"==typeof b.clickData&&a.fn.gsaClicks.write.call(e,"gsa-clickdata",b.clickData(e,c)))}),c||(a.fn.gsaClicks.click.call(this,"load"),c=!0),this.mousedown(function(){var b=a(this),c=a.fn.gsaClicks.read.call(b,"gsa-clicktype"),d=a.fn.gsaClicks.read.call(b,"gsa-rank"),e=a.fn.gsaClicks.read.call(b,"gsa-clickdata");a.fn.gsaClicks.click.call(b,"undefined"==typeof c?"OTHER":c,b.attr("href"),"undefined"==typeof d?null:d,"undefined"==typeof e?null:e)})},a.fn.gsaClicks.options={host:"",pathPart:"/click",collection:"default_collection",query:"",start:0,clickTypes:{}},a.fn.gsaClicks.click=function(a,c,d,e){var f,g;return g=b.host+b.pathPart+"?site="+encodeURIComponent(b.collection)+"&q="+encodeURIComponent(b.query)+"&s="+encodeURIComponent(b.start)+"&ct="+encodeURIComponent(a),"undefined"!=typeof c&&null!==c&&(g=g.concat("&url=",encodeURIComponent(c.replace(/#.*/,"")))),"undefined"!=typeof d&&null!==d&&(g=g.concat("&r=",encodeURIComponent(d))),"undefined"!=typeof e&&null!==e&&(g=g.concat("&cd=",encodeURIComponent(e))),f=document.createElement("img"),f.src=g,!0},a.fn.gsaClicks.write=function(b,c){a(this).data(b,c)},a.fn.gsaClicks.read=function(b){return a(this).data(b)}}(jQuery);