<?php

/**
 * @file
 * Add icons to menu.
 */

/**
 * Implements hook_page_alter().
 */
function cu_menu_icon_page_alter(&$page) {
  drupal_add_css(drupal_get_path('module', 'cu_menu_icon') . '/cu_menu_icon.css');
}

/**
 * Implements hook_form_alter().
 */
function cu_menu_icon_form_menu_edit_item_alter(&$form, $form_state) {
  // Doing it this way just in case this should be added to node forms later on
  // Inspired by menu_attributes module.
  $item = $form['original_item']['#value'];
  _cu_menu_icon_form_alter($form, $form, $item);
}

/**
 * Implements hook_form_alter().
 */
function _cu_menu_icon_form_alter(array &$form, array &$complete_form, array $item = array()) {
  $form['attributes']['icon_settings'] = array(
    '#type' => 'fieldset',
    '#title' => 'Icon',
    '#collapsible' => TRUE,
    '#collapsed' => TRUE,
  );
  $form['attributes']['icon_settings']['hide_text'] = array(
    '#type' => 'radios',
    '#title' => t('Hide Text'),
    '#default_value' => isset($item['options']['hide_text']) ? $item['options']['hide_text'] : 0,
    '#options' => array(0 => t('No'), 1 => t('Yes')),
  );
  $options = array('none' => 'none');
  $options = array_merge($options, cu_font_awesome_icon_list());
  $form['attributes']['icon_settings']['icon'] = array(
    '#type' => 'radios',
    '#title' => ' ',
    '#options' => $options,
    '#default_value' => isset($item['options']['icon']) ? $item['options']['icon'] : 'none',
    '#collapsible' => TRUE,
    '#collapsed' => TRUE,
  );
  $form['#submit'][] = 'cu_menu_icon_form_submit';
}

/**
 * Options for icon radio form.
 */
function _cu_menu_icon_options() {
  $options = array(
    '' => 'none',
    'icon-glass' => '<i class="icon-glass"></i>',
    'icon-music' => '<i class="icon-music"></i>',
    'icon-search' => '<i class="icon-search"></i>',
    'icon-envelope-alt' => '<i class="icon-envelope-alt"></i>',
    'icon-heart' => '<i class="icon-heart"></i>',
    'icon-star' => '<i class="icon-star"></i>',
    'icon-star-empty' => '<i class="icon-star-empty"></i>',
    'icon-user' => '<i class="icon-user"></i>',
    'icon-film' => '<i class="icon-film"></i>',
    'icon-th-large' => '<i class="icon-th-large"></i>',
    'icon-th' => '<i class="icon-th"></i>',
    'icon-th-list' => '<i class="icon-th-list"></i>',
    'icon-ok' => '<i class="icon-ok"></i>',
    'icon-remove' => '<i class="icon-remove"></i>',
    'icon-zoom-in' => '<i class="icon-zoom-in"></i>',
    'icon-zoom-out' => '<i class="icon-zoom-out"></i>',
    'icon-power-off' => '<i class="icon-power-off"></i>',
    'icon-off' => '<i class="icon-off"></i>',
    'icon-signal' => '<i class="icon-signal"></i>',
    'icon-gear' => '<i class="icon-gear"></i>',
    'icon-cog' => '<i class="icon-cog"></i>',
    'icon-trash' => '<i class="icon-trash"></i>',
    'icon-home' => '<i class="icon-home"></i>',
    'icon-file-alt' => '<i class="icon-file-alt"></i>',
    'icon-time' => '<i class="icon-time"></i>',
    'icon-road' => '<i class="icon-road"></i>',
    'icon-download-alt' => '<i class="icon-download-alt"></i>',
    'icon-download' => '<i class="icon-download"></i>',
    'icon-upload' => '<i class="icon-upload"></i>',
    'icon-inbox' => '<i class="icon-inbox"></i>',
    'icon-play-circle' => '<i class="icon-play-circle"></i>',
    'icon-rotate-right' => '<i class="icon-rotate-right"></i>',
    'icon-repeat' => '<i class="icon-repeat"></i>',
    'icon-refresh' => '<i class="icon-refresh"></i>',
    'icon-list-alt' => '<i class="icon-list-alt"></i>',
    'icon-lock' => '<i class="icon-lock"></i>',
    'icon-flag' => '<i class="icon-flag"></i>',
    'icon-headphones' => '<i class="icon-headphones"></i>',
    'icon-volume-off' => '<i class="icon-volume-off"></i>',
    'icon-volume-down' => '<i class="icon-volume-down"></i>',
    'icon-volume-up' => '<i class="icon-volume-up"></i>',
    'icon-qrcode' => '<i class="icon-qrcode"></i>',
    'icon-barcode' => '<i class="icon-barcode"></i>',
    'icon-tag' => '<i class="icon-tag"></i>',
    'icon-tags' => '<i class="icon-tags"></i>',
    'icon-book' => '<i class="icon-book"></i>',
    'icon-bookmark' => '<i class="icon-bookmark"></i>',
    'icon-print' => '<i class="icon-print"></i>',
    'icon-camera' => '<i class="icon-camera"></i>',
    'icon-font' => '<i class="icon-font"></i>',
    'icon-bold' => '<i class="icon-bold"></i>',
    'icon-italic' => '<i class="icon-italic"></i>',
    'icon-text-height' => '<i class="icon-text-height"></i>',
    'icon-text-width' => '<i class="icon-text-width"></i>',
    'icon-align-left' => '<i class="icon-align-left"></i>',
    'icon-align-center' => '<i class="icon-align-center"></i>',
    'icon-align-right' => '<i class="icon-align-right"></i>',
    'icon-align-justify' => '<i class="icon-align-justify"></i>',
    'icon-list' => '<i class="icon-list"></i>',
    'icon-indent-left' => '<i class="icon-indent-left"></i>',
    'icon-indent-right' => '<i class="icon-indent-right"></i>',
    'icon-facetime-video' => '<i class="icon-facetime-video"></i>',
    'icon-picture' => '<i class="icon-picture"></i>',
    'icon-pencil' => '<i class="icon-pencil"></i>',
    'icon-map-marker' => '<i class="icon-map-marker"></i>',
    'icon-adjust' => '<i class="icon-adjust"></i>',
    'icon-tint' => '<i class="icon-tint"></i>',
    'icon-edit' => '<i class="icon-edit"></i>',
    'icon-share' => '<i class="icon-share"></i>',
    'icon-check' => '<i class="icon-check"></i>',
    'icon-move' => '<i class="icon-move"></i>',
    'icon-step-backward' => '<i class="icon-step-backward"></i>',
    'icon-fast-backward' => '<i class="icon-fast-backward"></i>',
    'icon-backward' => '<i class="icon-backward"></i>',
    'icon-play' => '<i class="icon-play"></i>',
    'icon-pause' => '<i class="icon-pause"></i>',
    'icon-stop' => '<i class="icon-stop"></i>',
    'icon-forward' => '<i class="icon-forward"></i>',
    'icon-fast-forward' => '<i class="icon-fast-forward"></i>',
    'icon-step-forward' => '<i class="icon-step-forward"></i>',
    'icon-eject' => '<i class="icon-eject"></i>',
    'icon-chevron-left' => '<i class="icon-chevron-left"></i>',
    'icon-chevron-right' => '<i class="icon-chevron-right"></i>',
    'icon-plus-sign' => '<i class="icon-plus-sign"></i>',
    'icon-minus-sign' => '<i class="icon-minus-sign"></i>',
    'icon-remove-sign' => '<i class="icon-remove-sign"></i>',
    'icon-ok-sign' => '<i class="icon-ok-sign"></i>',
    'icon-question-sign' => '<i class="icon-question-sign"></i>',
    'icon-info-sign' => '<i class="icon-info-sign"></i>',
    'icon-screenshot' => '<i class="icon-screenshot"></i>',
    'icon-remove-circle' => '<i class="icon-remove-circle"></i>',
    'icon-ok-circle' => '<i class="icon-ok-circle"></i>',
    'icon-ban-circle' => '<i class="icon-ban-circle"></i>',
    'icon-arrow-left' => '<i class="icon-arrow-left"></i>',
    'icon-arrow-right' => '<i class="icon-arrow-right"></i>',
    'icon-arrow-up' => '<i class="icon-arrow-up"></i>',
    'icon-arrow-down' => '<i class="icon-arrow-down"></i>',
    'icon-mail-forward' => '<i class="icon-mail-forward"></i>',
    'icon-share-alt' => '<i class="icon-share-alt"></i>',
    'icon-resize-full' => '<i class="icon-resize-full"></i>',
    'icon-resize-small' => '<i class="icon-resize-small"></i>',
    'icon-plus' => '<i class="icon-plus"></i>',
    'icon-minus' => '<i class="icon-minus"></i>',
    'icon-asterisk' => '<i class="icon-asterisk"></i>',
    'icon-exclamation-sign' => '<i class="icon-exclamation-sign"></i>',
    'icon-gift' => '<i class="icon-gift"></i>',
    'icon-leaf' => '<i class="icon-leaf"></i>',
    'icon-fire' => '<i class="icon-fire"></i>',
    'icon-eye-open' => '<i class="icon-eye-open"></i>',
    'icon-eye-close' => '<i class="icon-eye-close"></i>',
    'icon-warning-sign' => '<i class="icon-warning-sign"></i>',
    'icon-plane' => '<i class="icon-plane"></i>',
    'icon-calendar' => '<i class="icon-calendar"></i>',
    'icon-random' => '<i class="icon-random"></i>',
    'icon-comment' => '<i class="icon-comment"></i>',
    'icon-magnet' => '<i class="icon-magnet"></i>',
    'icon-chevron-up' => '<i class="icon-chevron-up"></i>',
    'icon-chevron-down' => '<i class="icon-chevron-down"></i>',
    'icon-retweet' => '<i class="icon-retweet"></i>',
    'icon-shopping-cart' => '<i class="icon-shopping-cart"></i>',
    'icon-folder-close' => '<i class="icon-folder-close"></i>',
    'icon-folder-open' => '<i class="icon-folder-open"></i>',
    'icon-resize-vertical' => '<i class="icon-resize-vertical"></i>',
    'icon-resize-horizontal' => '<i class="icon-resize-horizontal"></i>',
    'icon-bar-chart' => '<i class="icon-bar-chart"></i>',
    'icon-twitter-sign' => '<i class="icon-twitter-sign"></i>',
    'icon-facebook-sign' => '<i class="icon-facebook-sign"></i>',
    'icon-camera-retro' => '<i class="icon-camera-retro"></i>',
    'icon-key' => '<i class="icon-key"></i>',
    'icon-gears' => '<i class="icon-gears"></i>',
    'icon-cogs' => '<i class="icon-cogs"></i>',
    'icon-comments' => '<i class="icon-comments"></i>',
    'icon-thumbs-up-alt' => '<i class="icon-thumbs-up-alt"></i>',
    'icon-thumbs-down-alt' => '<i class="icon-thumbs-down-alt"></i>',
    'icon-star-half' => '<i class="icon-star-half"></i>',
    'icon-heart-empty' => '<i class="icon-heart-empty"></i>',
    'icon-signout' => '<i class="icon-signout"></i>',
    'icon-linkedin-sign' => '<i class="icon-linkedin-sign"></i>',
    'icon-pushpin' => '<i class="icon-pushpin"></i>',
    'icon-external-link' => '<i class="icon-external-link"></i>',
    'icon-signin' => '<i class="icon-signin"></i>',
    'icon-trophy' => '<i class="icon-trophy"></i>',
    'icon-github-sign' => '<i class="icon-github-sign"></i>',
    'icon-upload-alt' => '<i class="icon-upload-alt"></i>',
    'icon-lemon' => '<i class="icon-lemon"></i>',
    'icon-phone' => '<i class="icon-phone"></i>',
    'icon-unchecked' => '<i class="icon-unchecked"></i>',
    'icon-check-empty' => '<i class="icon-check-empty"></i>',
    'icon-bookmark-empty' => '<i class="icon-bookmark-empty"></i>',
    'icon-phone-sign' => '<i class="icon-phone-sign"></i>',
    'icon-twitter' => '<i class="icon-twitter"></i>',
    'icon-facebook' => '<i class="icon-facebook"></i>',
    'icon-github' => '<i class="icon-github"></i>',
    'icon-unlock' => '<i class="icon-unlock"></i>',
    'icon-credit-card' => '<i class="icon-credit-card"></i>',
    'icon-rss' => '<i class="icon-rss"></i>',
    'icon-hdd' => '<i class="icon-hdd"></i>',
    'icon-bullhorn' => '<i class="icon-bullhorn"></i>',
    'icon-bell' => '<i class="icon-bell"></i>',
    'icon-certificate' => '<i class="icon-certificate"></i>',
    'icon-hand-right' => '<i class="icon-hand-right"></i>',
    'icon-hand-left' => '<i class="icon-hand-left"></i>',
    'icon-hand-up' => '<i class="icon-hand-up"></i>',
    'icon-hand-down' => '<i class="icon-hand-down"></i>',
    'icon-circle-arrow-left' => '<i class="icon-circle-arrow-left"></i>',
    'icon-circle-arrow-right' => '<i class="icon-circle-arrow-right"></i>',
    'icon-circle-arrow-up' => '<i class="icon-circle-arrow-up"></i>',
    'icon-circle-arrow-down' => '<i class="icon-circle-arrow-down"></i>',
    'icon-globe' => '<i class="icon-globe"></i>',
    'icon-wrench' => '<i class="icon-wrench"></i>',
    'icon-tasks' => '<i class="icon-tasks"></i>',
    'icon-filter' => '<i class="icon-filter"></i>',
    'icon-briefcase' => '<i class="icon-briefcase"></i>',
    'icon-fullscreen' => '<i class="icon-fullscreen"></i>',
    'icon-group' => '<i class="icon-group"></i>',
    'icon-link' => '<i class="icon-link"></i>',
    'icon-cloud' => '<i class="icon-cloud"></i>',
    'icon-beaker' => '<i class="icon-beaker"></i>',
    'icon-cut' => '<i class="icon-cut"></i>',
    'icon-copy' => '<i class="icon-copy"></i>',
    'icon-paperclip' => '<i class="icon-paperclip"></i>',
    'icon-paper-clip' => '<i class="icon-paper-clip"></i>',
    'icon-save' => '<i class="icon-save"></i>',
    'icon-sign-blank' => '<i class="icon-sign-blank"></i>',
    'icon-reorder' => '<i class="icon-reorder"></i>',
    'icon-list-ul' => '<i class="icon-list-ul"></i>',
    'icon-list-ol' => '<i class="icon-list-ol"></i>',
    'icon-strikethrough' => '<i class="icon-strikethrough"></i>',
    'icon-underline' => '<i class="icon-underline"></i>',
    'icon-table' => '<i class="icon-table"></i>',
    'icon-magic' => '<i class="icon-magic"></i>',
    'icon-truck' => '<i class="icon-truck"></i>',
    'icon-pinterest' => '<i class="icon-pinterest"></i>',
    'icon-pinterest-sign' => '<i class="icon-pinterest-sign"></i>',
    'icon-google-plus-sign' => '<i class="icon-google-plus-sign"></i>',
    'icon-google-plus' => '<i class="icon-google-plus"></i>',
    'icon-money' => '<i class="icon-money"></i>',
    'icon-caret-down' => '<i class="icon-caret-down"></i>',
    'icon-caret-up' => '<i class="icon-caret-up"></i>',
    'icon-caret-left' => '<i class="icon-caret-left"></i>',
    'icon-caret-right' => '<i class="icon-caret-right"></i>',
    'icon-columns' => '<i class="icon-columns"></i>',
    'icon-sort' => '<i class="icon-sort"></i>',
    'icon-sort-down' => '<i class="icon-sort-down"></i>',
    'icon-sort-up' => '<i class="icon-sort-up"></i>',
    'icon-envelope' => '<i class="icon-envelope"></i>',
    'icon-linkedin' => '<i class="icon-linkedin"></i>',
    'icon-rotate-left' => '<i class="icon-rotate-left"></i>',
    'icon-undo' => '<i class="icon-undo"></i>',
    'icon-legal' => '<i class="icon-legal"></i>',
    'icon-dashboard' => '<i class="icon-dashboard"></i>',
    'icon-comment-alt' => '<i class="icon-comment-alt"></i>',
    'icon-comments-alt' => '<i class="icon-comments-alt"></i>',
    'icon-bolt' => '<i class="icon-bolt"></i>',
    'icon-sitemap' => '<i class="icon-sitemap"></i>',
    'icon-umbrella' => '<i class="icon-umbrella"></i>',
    'icon-paste' => '<i class="icon-paste"></i>',
    'icon-lightbulb' => '<i class="icon-lightbulb"></i>',
    'icon-exchange' => '<i class="icon-exchange"></i>',
    'icon-cloud-download' => '<i class="icon-cloud-download"></i>',
    'icon-cloud-upload' => '<i class="icon-cloud-upload"></i>',
    'icon-user-md' => '<i class="icon-user-md"></i>',
    'icon-stethoscope' => '<i class="icon-stethoscope"></i>',
    'icon-suitcase' => '<i class="icon-suitcase"></i>',
    'icon-bell-alt' => '<i class="icon-bell-alt"></i>',
    'icon-coffee' => '<i class="icon-coffee"></i>',
    'icon-food' => '<i class="icon-food"></i>',
    'icon-file-text-alt' => '<i class="icon-file-text-alt"></i>',
    'icon-building' => '<i class="icon-building"></i>',
    'icon-hospital' => '<i class="icon-hospital"></i>',
    'icon-ambulance' => '<i class="icon-ambulance"></i>',
    'icon-medkit' => '<i class="icon-medkit"></i>',
    'icon-fighter-jet' => '<i class="icon-fighter-jet"></i>',
    'icon-beer' => '<i class="icon-beer"></i>',
    'icon-h-sign' => '<i class="icon-h-sign"></i>',
    'icon-plus-sign-alt' => '<i class="icon-plus-sign-alt"></i>',
    'icon-double-angle-left' => '<i class="icon-double-angle-left"></i>',
    'icon-double-angle-right' => '<i class="icon-double-angle-right"></i>',
    'icon-double-angle-up' => '<i class="icon-double-angle-up"></i>',
    'icon-double-angle-down' => '<i class="icon-double-angle-down"></i>',
    'icon-angle-left' => '<i class="icon-angle-left"></i>',
    'icon-angle-right' => '<i class="icon-angle-right"></i>',
    'icon-angle-up' => '<i class="icon-angle-up"></i>',
    'icon-angle-down' => '<i class="icon-angle-down"></i>',
    'icon-desktop' => '<i class="icon-desktop"></i>',
    'icon-laptop' => '<i class="icon-laptop"></i>',
    'icon-tablet' => '<i class="icon-tablet"></i>',
    'icon-mobile-phone' => '<i class="icon-mobile-phone"></i>',
    'icon-circle-blank' => '<i class="icon-circle-blank"></i>',
    'icon-quote-left' => '<i class="icon-quote-left"></i>',
    'icon-quote-right' => '<i class="icon-quote-right"></i>',
    'icon-spinner' => '<i class="icon-spinner"></i>',
    'icon-circle' => '<i class="icon-circle"></i>',
    'icon-mail-reply' => '<i class="icon-mail-reply"></i>',
    'icon-reply' => '<i class="icon-reply"></i>',
    'icon-github-alt' => '<i class="icon-github-alt"></i>',
    'icon-folder-close-alt' => '<i class="icon-folder-close-alt"></i>',
    'icon-folder-open-alt' => '<i class="icon-folder-open-alt"></i>',
    'icon-expand-alt' => '<i class="icon-expand-alt"></i>',
    'icon-collapse-alt' => '<i class="icon-collapse-alt"></i>',
    'icon-smile' => '<i class="icon-smile"></i>',
    'icon-frown' => '<i class="icon-frown"></i>',
    'icon-meh' => '<i class="icon-meh"></i>',
    'icon-gamepad' => '<i class="icon-gamepad"></i>',
    'icon-keyboard' => '<i class="icon-keyboard"></i>',
    'icon-flag-alt' => '<i class="icon-flag-alt"></i>',
    'icon-flag-checkered' => '<i class="icon-flag-checkered"></i>',
    'icon-terminal' => '<i class="icon-terminal"></i>',
    'icon-code' => '<i class="icon-code"></i>',
    'icon-reply-all' => '<i class="icon-reply-all"></i>',
    'icon-mail-reply-all' => '<i class="icon-mail-reply-all"></i>',
    'icon-star-half-full' => '<i class="icon-star-half-full"></i>',
    'icon-star-half-empty' => '<i class="icon-star-half-empty"></i>',
    'icon-location-arrow' => '<i class="icon-location-arrow"></i>',
    'icon-crop' => '<i class="icon-crop"></i>',
    'icon-code-fork' => '<i class="icon-code-fork"></i>',
    'icon-unlink' => '<i class="icon-unlink"></i>',
    'icon-question' => '<i class="icon-question"></i>',
    'icon-info' => '<i class="icon-info"></i>',
    'icon-exclamation' => '<i class="icon-exclamation"></i>',
    'icon-superscript' => '<i class="icon-superscript"></i>',
    'icon-subscript' => '<i class="icon-subscript"></i>',
    'icon-eraser' => '<i class="icon-eraser"></i>',
    'icon-puzzle-piece' => '<i class="icon-puzzle-piece"></i>',
    'icon-microphone' => '<i class="icon-microphone"></i>',
    'icon-microphone-off' => '<i class="icon-microphone-off"></i>',
    'icon-shield' => '<i class="icon-shield"></i>',
    'icon-calendar-empty' => '<i class="icon-calendar-empty"></i>',
    'icon-fire-extinguisher' => '<i class="icon-fire-extinguisher"></i>',
    'icon-rocket' => '<i class="icon-rocket"></i>',
    'icon-maxcdn' => '<i class="icon-maxcdn"></i>',
    'icon-chevron-sign-left' => '<i class="icon-chevron-sign-left"></i>',
    'icon-chevron-sign-right' => '<i class="icon-chevron-sign-right"></i>',
    'icon-chevron-sign-up' => '<i class="icon-chevron-sign-up"></i>',
    'icon-chevron-sign-down' => '<i class="icon-chevron-sign-down"></i>',
    'icon-html5' => '<i class="icon-html5"></i>',
    'icon-css3' => '<i class="icon-css3"></i>',
    'icon-anchor' => '<i class="icon-anchor"></i>',
    'icon-unlock-alt' => '<i class="icon-unlock-alt"></i>',
    'icon-bullseye' => '<i class="icon-bullseye"></i>',
    'icon-ellipsis-horizontal' => '<i class="icon-ellipsis-horizontal"></i>',
    'icon-ellipsis-vertical' => '<i class="icon-ellipsis-vertical"></i>',
    'icon-rss-sign' => '<i class="icon-rss-sign"></i>',
    'icon-play-sign' => '<i class="icon-play-sign"></i>',
    'icon-ticket' => '<i class="icon-ticket"></i>',
    'icon-minus-sign-alt' => '<i class="icon-minus-sign-alt"></i>',
    'icon-check-minus' => '<i class="icon-check-minus"></i>',
    'icon-level-up' => '<i class="icon-level-up"></i>',
    'icon-level-down' => '<i class="icon-level-down"></i>',
    'icon-check-sign' => '<i class="icon-check-sign"></i>',
    'icon-edit-sign' => '<i class="icon-edit-sign"></i>',
    'icon-external-link-sign' => '<i class="icon-external-link-sign"></i>',
    'icon-share-sign' => '<i class="icon-share-sign"></i>',
    'icon-compass' => '<i class="icon-compass"></i>',
    'icon-collapse' => '<i class="icon-collapse"></i>',
    'icon-collapse-top' => '<i class="icon-collapse-top"></i>',
    'icon-expand' => '<i class="icon-expand"></i>',
    'icon-euro' => '<i class="icon-euro"></i>',
    'icon-eur' => '<i class="icon-eur"></i>',
    'icon-gbp' => '<i class="icon-gbp"></i>',
    'icon-dollar' => '<i class="icon-dollar"></i>',
    'icon-usd' => '<i class="icon-usd"></i>',
    'icon-rupee' => '<i class="icon-rupee"></i>',
    'icon-inr' => '<i class="icon-inr"></i>',
    'icon-yen' => '<i class="icon-yen"></i>',
    'icon-jpy' => '<i class="icon-jpy"></i>',
    'icon-renminbi' => '<i class="icon-renminbi"></i>',
    'icon-cny' => '<i class="icon-cny"></i>',
    'icon-won' => '<i class="icon-won"></i>',
    'icon-krw' => '<i class="icon-krw"></i>',
    'icon-bitcoin' => '<i class="icon-bitcoin"></i>',
    'icon-btc' => '<i class="icon-btc"></i>',
    'icon-file' => '<i class="icon-file"></i>',
    'icon-file-text' => '<i class="icon-file-text"></i>',
    'icon-sort-by-alphabet' => '<i class="icon-sort-by-alphabet"></i>',
    'icon-sort-by-alphabet-alt' => '<i class="icon-sort-by-alphabet-alt"></i>',
    'icon-sort-by-attributes' => '<i class="icon-sort-by-attributes"></i>',
    'icon-sort-by-attributes-alt' => '<i class="icon-sort-by-attributes-alt"></i>',
    'icon-sort-by-order' => '<i class="icon-sort-by-order"></i>',
    'icon-sort-by-order-alt' => '<i class="icon-sort-by-order-alt"></i>',
    'icon-thumbs-up' => '<i class="icon-thumbs-up"></i>',
    'icon-thumbs-down' => '<i class="icon-thumbs-down"></i>',
    'icon-youtube-sign' => '<i class="icon-youtube-sign"></i>',
    'icon-youtube' => '<i class="icon-youtube"></i>',
    'icon-xing' => '<i class="icon-xing"></i>',
    'icon-xing-sign' => '<i class="icon-xing-sign"></i>',
    'icon-youtube-play' => '<i class="icon-youtube-play"></i>',
    'icon-dropbox' => '<i class="icon-dropbox"></i>',
    'icon-stackexchange' => '<i class="icon-stackexchange"></i>',
    'icon-instagram' => '<i class="icon-instagram"></i>',
    'icon-flickr' => '<i class="icon-flickr"></i>',
    'icon-adn' => '<i class="icon-adn"></i>',
    'icon-bitbucket' => '<i class="icon-bitbucket"></i>',
    'icon-bitbucket-sign' => '<i class="icon-bitbucket-sign"></i>',
    'icon-tumblr' => '<i class="icon-tumblr"></i>',
    'icon-tumblr-sign' => '<i class="icon-tumblr-sign"></i>',
    'icon-long-arrow-down' => '<i class="icon-long-arrow-down"></i>',
    'icon-long-arrow-up' => '<i class="icon-long-arrow-up"></i>',
    'icon-long-arrow-left' => '<i class="icon-long-arrow-left"></i>',
    'icon-long-arrow-right' => '<i class="icon-long-arrow-right"></i>',
    'icon-apple' => '<i class="icon-apple"></i>',
    'icon-windows' => '<i class="icon-windows"></i>',
    'icon-android' => '<i class="icon-android"></i>',
    'icon-linux' => '<i class="icon-linux"></i>',
    'icon-dribbble' => '<i class="icon-dribbble"></i>',
    'icon-skype' => '<i class="icon-skype"></i>',
    'icon-foursquare' => '<i class="icon-foursquare"></i>',
    'icon-trello' => '<i class="icon-trello"></i>',
    'icon-female' => '<i class="icon-female"></i>',
    'icon-male' => '<i class="icon-male"></i>',
    'icon-gittip' => '<i class="icon-gittip"></i>',
    'icon-sun' => '<i class="icon-sun"></i>',
    'icon-moon' => '<i class="icon-moon"></i>',
    'icon-archive' => '<i class="icon-archive"></i>',
    'icon-bug' => '<i class="icon-bug"></i>',
    'icon-vk' => '<i class="icon-vk"></i>',
    'icon-weibo' => '<i class="icon-weibo"></i>',
    'icon-renren' => '<i class="icon-renren"></i>',
  );
  return $options;
}

/**
 * Submits icon selection and adds it to options column.
 */
function cu_menu_icon_form_submit($form, &$form_state) {
  $item = &$form_state['values'];
  $item['options']['icon'] = $item['icon'];
  $item['options']['hide_text'] = $item['hide_text'];
  list($item['menu_name'], $item['plid']) = explode(':', $item['parent']);
  if (!menu_link_save($item)) {
    drupal_set_message(t('There was an error saving the menu icon.'), 'error');
  }
  else {
    drupal_set_message(t('Your icon configuration has been saved.'));
  }
  $form_state['redirect'] = 'admin/structure/menu/manage/' . $item['menu_name'];
}
