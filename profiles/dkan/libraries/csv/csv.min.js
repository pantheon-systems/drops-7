!function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r){var t={};!function(e){"use strict";function r(e,r){return e.charAt(e.length-r.length)!==r?e:e.substring(0,e.length-r.length)}e.__type__="csv";var t="undefined"!=typeof jQuery&&jQuery.Deferred||_.Deferred;e.fetch=function(r){var n=new t;if(r.file){var i=new FileReader,o=r.encoding||"UTF-8";i.onload=function(t){var i=e.extractFields(e.parse(t.target.result,r),r);i.useMemoryStore=!0,i.metadata={filename:r.file.name},n.resolve(i)},i.onerror=function(e){n.reject({error:{message:"Failed to load file. Code: "+e.target.error.code}})},i.readAsText(r.file,o)}else if(r.data){var a=e.extractFields(e.parse(r.data,r),r);a.useMemoryStore=!0,n.resolve(a)}else r.url&&jQuery.get(r.url).done(function(t){var i=e.extractFields(e.parse(t,r),r);i.useMemoryStore=!0,n.resolve(i)}).fail(function(e,r){n.reject({error:{message:"Failed to load file. "+e.statusText+". Code: "+e.status,request:e}})});return n.promise()},e.extractFields=function(e,r){return r.noHeaderRow!==!0&&e.length>0?{fields:e[0],records:e.slice(1)}:{records:e}},e.normalizeDialectOptions=function(e){var r={delimiter:",",doublequote:!0,lineterminator:"\n",quotechar:'"',skipinitialspace:!0,skipinitialrows:0};for(var t in e)"trim"===t?r.skipinitialspace=e.trim:r[t.toLowerCase()]=e[t];return r},e.parse=function(t,o){(!o||o&&!o.lineterminator)&&(t=e.normalizeLineTerminator(t,o));var l=e.normalizeDialectOptions(o);t=r(t,l.lineterminator);var s,u,c="",d=!1,f=!1,p="",m=[],h=[];for(u=function(e){return f!==!0&&(""===e?e=null:l.skipinitialspace===!0&&(e=a(e)),n.test(e)?e=parseInt(e,10):i.test(e)&&(e=parseFloat(e,10))),e},s=0;s<t.length;s+=1)c=t.charAt(s),d!==!1||c!==l.delimiter&&c!==l.lineterminator?c!==l.quotechar?p+=c:d?t.charAt(s+1)===l.quotechar?(p+=l.quotechar,s+=1):d=!1:(d=!0,f=!0):(p=u(p),m.push(p),c===l.lineterminator&&(h.push(m),m=[]),p="",f=!1);return p=u(p),m.push(p),h.push(m),l.skipinitialrows&&(h=h.slice(l.skipinitialrows)),h},e.normalizeLineTerminator=function(e,r){return r=r||{},r.lineterminator?e:e.replace(/(\r\n|\n|\r)/gm,"\n")},e.objectToArray=function(e){for(var r=[],t=[],n=0;n<e.fields.length;n++)t.push(e.fields[n].id);r.push(t);for(var n=0;n<e.records.length;n++){for(var i=[],o=e.records[n],a=0;a<t.length;a++)i.push(o[t[a]]);r.push(i)}return r},e.serialize=function(r,t){var n=null;n=r instanceof Array?r:e.objectToArray(r);var i,a,l,s=e.normalizeDialectOptions(t),u="",c="",d="",f="";for(l=function(e){return null===e?e="":"string"==typeof e&&o.test(e)?(s.doublequote&&(e=e.replace(/"/g,'""')),e=s.quotechar+e+s.quotechar):"number"==typeof e&&(e=e.toString(10)),e},i=0;i<n.length;i+=1)for(u=n[i],a=0;a<u.length;a+=1)c=l(u[a]),a===u.length-1?(d+=c,f+=d+s.lineterminator,d=""):d+=c+s.delimiter,c="";return f};var n=/^\d+$/,i=/^\d*\.\d+$|^\d+\.\d*$/,o=/^\s|\s$|,|"|\n/,a=function(){return String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}()}(t);var n=n||{};n.Backend=n.Backend||{},n.Backend.CSV=t}]);
//# sourceMappingURL=csv.min.js.map